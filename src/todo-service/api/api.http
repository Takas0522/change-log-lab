### Todo Service API Testing

@baseUrl = http://localhost:5001
@token = YOUR_JWT_TOKEN_HERE

### Health check
GET {{baseUrl}}/api/lists
Authorization: Bearer {{token}}

### Create a new list
POST {{baseUrl}}/api/lists
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "My Todo List",
  "description": "Personal tasks for this week"
}

### Get all lists
GET {{baseUrl}}/api/lists
Authorization: Bearer {{token}}

### Get specific list (replace with actual ID)
@listId = 00000000-0000-0000-0000-000000000000
GET {{baseUrl}}/api/lists/{{listId}}
Authorization: Bearer {{token}}

### Update list
PUT {{baseUrl}}/api/lists/{{listId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Updated List Title",
  "description": "Updated description"
}

### Create a todo
POST {{baseUrl}}/api/lists/{{listId}}/todos
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Buy groceries",
  "description": "Milk, eggs, bread, and butter",
  "dueDate": "2025-12-20T10:00:00Z",
  "position": 0
}

### Create another todo
POST {{baseUrl}}/api/lists/{{listId}}/todos
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Call dentist",
  "description": "Schedule appointment for checkup",
  "dueDate": "2025-12-18T15:00:00Z",
  "position": 1
}

### Get all todos in a list
GET {{baseUrl}}/api/lists/{{listId}}/todos
Authorization: Bearer {{token}}

### Get specific todo (replace with actual ID)
@todoId = 00000000-0000-0000-0000-000000000000
GET {{baseUrl}}/api/lists/{{listId}}/todos/{{todoId}}
Authorization: Bearer {{token}}

### Update todo
PUT {{baseUrl}}/api/lists/{{listId}}/todos/{{todoId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Buy groceries - updated",
  "isCompleted": true
}

### Mark todo as completed
PUT {{baseUrl}}/api/lists/{{listId}}/todos/{{todoId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "isCompleted": true
}

### Add member to list (owner only)
@memberUserId = 00000000-0000-0000-0000-000000000000
POST {{baseUrl}}/api/lists/{{listId}}/members
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "userId": "{{memberUserId}}",
  "role": "editor"
}

### Add viewer to list
POST {{baseUrl}}/api/lists/{{listId}}/members
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "userId": "{{memberUserId}}",
  "role": "viewer"
}

### Remove member from list
@memberId = 00000000-0000-0000-0000-000000000000
DELETE {{baseUrl}}/api/lists/{{listId}}/members/{{memberId}}
Authorization: Bearer {{token}}

### Delete todo
DELETE {{baseUrl}}/api/lists/{{listId}}/todos/{{todoId}}
Authorization: Bearer {{token}}

### Delete list
DELETE {{baseUrl}}/api/lists/{{listId}}
Authorization: Bearer {{token}}

### =========================
### Label API Tests
### =========================

### Get all labels
GET {{baseUrl}}/api/labels
Authorization: Bearer {{token}}

### Create a label
POST {{baseUrl}}/api/labels
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Urgent",
  "color": "#FF0000"
}

### Create another label
POST {{baseUrl}}/api/labels
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Work",
  "color": "#0066CC"
}

### Create third label
POST {{baseUrl}}/api/labels
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Personal",
  "color": "#00CC66"
}

### Get specific label (replace with actual ID)
@labelId = 00000000-0000-0000-0000-000000000000
GET {{baseUrl}}/api/labels/{{labelId}}
Authorization: Bearer {{token}}

### Update label
PUT {{baseUrl}}/api/labels/{{labelId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Very Urgent",
  "color": "#CC0000"
}

### Update label color only
PUT {{baseUrl}}/api/labels/{{labelId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "color": "#FF6600"
}

### Create todo with labels
@labelId2 = 00000000-0000-0000-0000-000000000000
POST {{baseUrl}}/api/lists/{{listId}}/todos
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Prepare presentation",
  "description": "Create slides for Monday meeting",
  "dueDate": "2025-12-19T09:00:00Z",
  "position": 2,
  "labelIds": ["{{labelId}}", "{{labelId2}}"]
}

### Update todo with different labels
PUT {{baseUrl}}/api/lists/{{listId}}/todos/{{todoId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "labelIds": ["{{labelId}}"]
}

### Get todos filtered by label
GET {{baseUrl}}/api/lists/{{listId}}/todos?labelIds={{labelId}}
Authorization: Bearer {{token}}

### Get todos filtered by multiple labels
GET {{baseUrl}}/api/lists/{{listId}}/todos?labelIds={{labelId}},{{labelId2}}
Authorization: Bearer {{token}}

### Delete label (will remove from all todos)
DELETE {{baseUrl}}/api/labels/{{labelId}}
Authorization: Bearer {{token}}

###
